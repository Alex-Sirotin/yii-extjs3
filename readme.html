<!DOCTYPE html>
<html>

	<head>
		<title>Readme</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	</head>

	<body>


		<h1>EDS Тестовое задание</h1>

		<h3>Состав</h3>
		<ul>
			<li>sql - скрипты для создания БД</li>
			<li>www - корневой каталог сайта:
				<ul>
					<li>assets - вспомогательная папка Yii</li>
					<li>css - файлы css</li>
					<li>extjs - библиотека ExtJS</li>
					<li>images - изображения</li>
					<li>js - файлы Javascript (основные доработки по ExtJS)</li>
						<ul>    
							<li>issue.js - стартовый файл для ExtJS</li>
							<li>issueForm.js - форма ввода темы</li>
							<li>issueGrid.js - грид тем</li>
							<li>messageForm.js - форма ввода сообщения</li>
							<li>messageGrid.js - грид сообщений</li>
							<li>utils.js - вспомогательный функции</li>
						</ul>
					<li>protected - основной функционал на PHP
						<ul>
							<li>components - переопределенные классы Yii</li>
							<li>config - конфигурация приложения</li>
							<li>controllers - контроллеры (здесь основные изменения для задания)</li>
							<li>models - модели, практически без изменений после автогенерации</li>
							<li>runtime - вспомогательная папка Yii</li>
							<li>views - представления, за небольшим исключением (layouts и подпапки extjs) - автогенерация</li>
				</ul></li>
				<li>themes - темы для Yii (используются по умолчанию без модификации)</li>
			</ul></li>
			<li>Yii - PHP-framework</li>
		</ul>

<h3>Требования</h3>
<ul>
	<li>MySQL 5.5.27</li>
	<li>Apache 2.2</li>
	<li>PHP 5.4.7</li>
	<li>Yii 1.1.12</li>
	<li>ExtJS 3.4.0</li>
</ul>
<h3>Установка</h3>
<ul>
	<li><h5>БД</h5>
		В каталоге sql лежат скрипты для создания БД и исполняемый файл create.cmd. 
		Скрипт создает нового пользователя, удаляет БД (если она существует) и 
		создает БД заново.
		<ul>
			<li>create_user.sql - создание пользователя, отредактировать если необходимо сменить имя пароль и схему. 
				Данные по умолчанию:
				<ul>
					<li>БД: <b><u>eds_sav</u></b></li>											
					<li>Пользователь: <b><u>eds_sav</u></b></li>
					<li>Пароль: <b><u>1q2w3e4r</u></b></li>
				</ul>
			<li>drop.sql - удаление БД</li> 
			<li>eds_sav.sql - создание БД и объектов БД</li> 
			<li>create.cmd - пакетный файл для запуска с скриптов</li> 
		</ul>
	</li>

	<li><h5>Веб-сервер</h5>
		Указать каталог <b><u>www</u></b> в качестве корневого каталога сайта. Стартовый файл  - <b><u>index.php</u></b>. На веб-сервере должен быть настроен PHP. 
	</li>
	<li><h5>Конфигурация</h5>
		В файле <b>www/protected/config/const.php</b> указать параметры подключения к БД:
		<pre>
const HOST = 'localhost';
const NAME = 'eds_sav';
const USER = 'eds_sav';
const PASSWORD = '1q2w3e4r';
		</pre>
	</li>
</ul>
<h3>Использование</h3>
	<div>В системе реализованы 3 основных роли и гостевой доступ (только стартовая страница):
	<ul>
		<li>User (alex/1q2w3e4r) - создает и закрывает темы в поддержке</li>
		<li>Support (justas/1q2w3e4r) - отвечает в поддержке</li>
		<li>Administratir (ship/1q2w3e4r) - техничеcкий пользователь для редактирования БД (в основном код созданный автогенерацией)</li>
	</ul></div>
	
	<p>После авторизации User-у и Support-у доступна работа в поддержке. Администратору - работа с таблицами</p>
	
	<p>Рабочий экран состоит из 2-х частей (master-detail): вверху список тем поддержки, внизу сообщения по выбранной теме и форма вода сообщения</p>
	<p>Списки тем и сообщений автоматически обновляется (по умочанию с периодом в 5 сек.). Таким оразом участники могут видеть изменения (новые темы, новые сообщения и др.)</p>
	
	<div>Пользователь может:
	<ul>
		<li>Создать новую тему. Тема будет создана в статусе "Не открыта"</li>
		<li>Писать сообщения по выбранной теме (даже в неоткрытую)</li>
		<li>Закрывать темы. Тема меняет статус на закрытую</li>
	</ul>
	</div>
	
	<div>Поддержка может:
	<ul>
		<li>"Взять" тему пользователя. Тема сменит статус на "Открытая"</li>
		<li>Писать сообщения по выбранной теме (только в  открытую)</li>
	</ul></div>
	
	<p>Администратор - попытка более плотно изучить реализацию фреймворка Yii</p>
	
</body>

</html>